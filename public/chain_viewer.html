<html>

<head>
    <title>Chain Viewer Initializer</title>
    <script>

    </script>
</head>

<body>
    Just make this windows minimum, it will pop up new windows when you click the artworks in the virtual space.
    <div id="stateView"></div>
    <button onclick="openWindow()">Open Viewer Window</button>
    <script>
        let targetWindow = null;
        function openWindow() {
            if (null == targetWindow)
            targetWindow = window.open("https://rinkeby.etherscan.io/token/0x5241ed64c9bfb1ad61a686ea97219e226969ce09")
        }
        let lastResponse = "";
        function refresh() {
            // make Ajax call here, inside the callback call:
            httpRequest = new XMLHttpRequest();


            httpRequest.onreadystatechange = processingLastView;
            httpRequest.open("GET", "/checkLastView");
            httpRequest.send();

            //
            // ...
        }



        function processingLastView() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("stateView").innerHTML = this.responseText;
                let newUrl = "https://rinkeby.etherscan.io/token/0x5241ed64c9bfb1ad61a686ea97219e226969ce09?a=" + this.responseText
                if (null != targetWindow && lastResponse != this.responseText) {
                    lastResponse = this.responseText
                    targetWindow.location = newUrl
                }

            }

        }
        // initial call, or just call refresh directly
        setInterval(refresh, 3000);
    </script>
</body>

</html>